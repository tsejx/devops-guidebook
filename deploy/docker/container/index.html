<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/devops-guidebook/umi.css" />
    <script>
      window.routerBase = "/devops-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.9
    </script>
    <title>&#x64CD;&#x4F5C;&#x5BB9;&#x5668;</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/favicon.png&#x27;)" href="/devops-guidebook//">DevOps Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/devops-guidebook//linux">Linux</a><a href="/devops-guidebook//server">服务器</a><a href="/devops-guidebook//data-base">数据库</a><a aria-current="page" class="active" href="/devops-guidebook//deploy">部署</a><a href="/devops-guidebook//version">版本管理</a><a href="/devops-guidebook//devops">DevOps</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/devops-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/favicon.png&#x27;)" href="/devops-guidebook//"></a><h1>DevOps Guidebook</h1><p>DevOps 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/devops-guidebook//linux">Linux</a></li><li><a href="/devops-guidebook//server">服务器</a></li><li><a href="/devops-guidebook//data-base">数据库</a></li><li><a aria-current="page" class="active" href="/devops-guidebook//deploy">部署</a></li><li><a href="/devops-guidebook//version">版本管理</a></li><li><a href="/devops-guidebook//devops">DevOps</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/devops-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/devops-guidebook//deploy/theory">部署理论</a><ul><li><a href="/devops-guidebook//deploy/theory/environment"><span>环境区分</span></a></li><li><a href="/devops-guidebook//deploy/theory/overview"><span>基本概述</span></a></li><li><a href="/devops-guidebook//deploy/theory/continuous-integration"><span>持续集成</span></a></li><li><a href="/devops-guidebook//deploy/theory/continuous-dilivery"><span>持续交付</span></a></li><li><a href="/devops-guidebook//deploy/theory/continuous-deployment"><span>持续部署</span></a></li></ul></li><li><a aria-current="page" class="active" href="/devops-guidebook//deploy/docker">Docker</a><ul><li><a href="/devops-guidebook//deploy/docker/overview"><span>基本概述</span></a></li><li><a href="/devops-guidebook//deploy/docker/image"><span>构建镜像</span></a></li><li><a href="/devops-guidebook//deploy/docker/docker-file"><span>配置脚本</span></a></li><li><a aria-current="page" class="active" href="/devops-guidebook//deploy/docker/container"><span>操作容器</span></a></li><li><a href="/devops-guidebook//deploy/docker/storage-patterns-for-persistence"><span>持久存储模式</span></a></li><li><a href="/devops-guidebook//deploy/docker/network"><span>网络通信</span></a></li><li><a href="/devops-guidebook//deploy/docker/operations-and-monitor"><span>运维和监控</span></a></li><li><a href="/devops-guidebook//deploy/docker/docker-compose"><span>多容器部署</span></a></li><li><a href="/devops-guidebook//deploy/docker/command"><span>常用命令</span></a></li><li><a href="/devops-guidebook//deploy/docker/extensions"><span>扩展资源</span></a></li><li><a href="/devops-guidebook//deploy/docker/mongodb"><span>部署 MongoDB</span></a></li></ul></li><li><a href="/devops-guidebook//deploy/github-actions">Github-actions</a><ul><li><a href="/devops-guidebook//deploy/github-actions/overview"><span>Github Actions</span></a></li></ul></li><li><a href="/devops-guidebook//deploy/jenkins">Jenkins</a></li><li><a href="/devops-guidebook//deploy/rancher">Rancher</a></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="生命周期" data-depth="2" class=""><a href="/devops-guidebook//deploy/docker/container#生命周期"><span>生命周期</span></a></li><li title="启动容器" data-depth="2" class=""><a href="/devops-guidebook//deploy/docker/container#启动容器"><span>启动容器</span></a></li><li title="后台运行" data-depth="2" class=""><a href="/devops-guidebook//deploy/docker/container#后台运行"><span>后台运行</span></a></li><li title="终止容器" data-depth="2" class=""><a href="/devops-guidebook//deploy/docker/container#终止容器"><span>终止容器</span></a></li><li title="进入容器" data-depth="2" class=""><a href="/devops-guidebook//deploy/docker/container#进入容器"><span>进入容器</span></a></li><li title="exec 命令" data-depth="3" class=""><a href="/devops-guidebook//deploy/docker/container#exec-命令"><span>exec 命令</span></a></li><li title="attach 命令" data-depth="3" class=""><a href="/devops-guidebook//deploy/docker/container#attach-命令"><span>attach 命令</span></a></li><li title="导出和导入容器" data-depth="2" class=""><a href="/devops-guidebook//deploy/docker/container#导出和导入容器"><span>导出和导入容器</span></a></li><li title="导出容器" data-depth="3" class=""><a href="/devops-guidebook//deploy/docker/container#导出容器"><span>导出容器</span></a></li><li title="导入容器" data-depth="3" class=""><a href="/devops-guidebook//deploy/docker/container#导入容器"><span>导入容器</span></a></li><li title="删除容器" data-depth="2" class=""><a href="/devops-guidebook//deploy/docker/container#删除容器"><span>删除容器</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="操作容器"><a aria-hidden="true" href="#操作容器"><span class="icon icon-link"></span></a>操作容器</h1><p>简单的说，容器是独立运行的一个或一组应用，以及它们的运行态环境。对应的，虚拟机可以理解为模拟运行的一整套操作系统（提供了运行态环境和其他系统环境）和跑在上面的应用。</p><h2 id="生命周期"><a aria-hidden="true" href="#生命周期"><span class="icon icon-link"></span></a>生命周期</h2><p>这是一张容器运行的状态流转图：</p></div><img alt="容器状态流转图" src="/devops-guidebook/static/container-running-flow.a9b34cb2.jpg" width="900"/><div class="markdown"><p>图中展示了几种常见对 Docker 容器的操作命令，以及执行它们之后容器运行状态的变化。这里我们撇开命令，着重看看容器的几个核心状态，也就是图中色块表示的：<strong>Created</strong>、<strong>Running</strong>、<strong>Paused</strong>、<strong>Stopped</strong>、<strong>Deleted</strong>。</p><h2 id="启动容器"><a aria-hidden="true" href="#启动容器"><span class="icon icon-link"></span></a>启动容器</h2><p>启动容器方式有两种，一种是基于镜像新建容器并启动，另一种是将在终止状态（<code>stopped</code>）的容器重新启动。</p><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 启动一个容器并在后台运行
$ docker run -it &lt;image-name&gt; &lt;command /&gt; # 格式
$ docker run -it centos /bin/bash # 示例

# 按住 Ctrl + P + Q 退出容器

# 查看容器状态
$ docker ps
" data-status="copy"></button><div class="token-line"><span class="token comment"># 启动一个容器并在后台运行</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker run -it </span><span class="token operator">&lt;</span><span class="token plain">image-name</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">command /</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token comment"># 格式</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker run -it centos /bin/bash </span><span class="token comment"># 示例</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 按住 Ctrl + P + Q 退出容器</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 查看容器状态</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker </span><span class="token function">ps</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>常见的启动参数：</p><ul><li><code>-p</code>：向宿主机暴露端口，格式 <code>宿主机端口:容器端口</code></li><li><code>-P</code>：将容器端口映射为宿主机的随机端口</li><li><code>-t</code>：让 Docker 分配一个伪终端（pseudo-tty）并绑定到容器的标准输入上</li><li><code>-i</code>：让容器的标准输入保持打开</li><li><code>-v</code>：映射数据卷，例如 <code>/home/project:/usr/src</code>，宿主机 <code>/home/project</code> 映射容器 <code>/usr/src</code></li><li><code>-d</code>：将容器放在后台运行</li><li><code>--rm</code>：容器推出后清除资源</li><li><code>--privileged</code>：最高权限</li></ul><p>当利用 <code>docker run</code> 来创建容器时，Docker 在后台运行的标准操作包括：</p><ol><li>检查本地是否存在制定的镜像，不存在就从公有仓库下载</li><li>利用本地镜像创建并启动一个容器</li><li>分配一个文件系统，并在只读的镜像层外面挂载一层可读写层</li><li>从宿主机配置的网桥接口桥接一个虚拟接口到容器中去</li><li>从地址池配置一个 IP 地址给容器</li><li>执行用户的指定的用户程序</li><li>执行完毕后容器被终止</li></ol><p><strong>重新启动</strong></p><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 处于终止状态的容器重新启动
$ docker restart &lt;container-name&gt;
" data-status="copy"></button><div class="token-line"><span class="token comment"># 处于终止状态的容器重新启动</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker restart </span><span class="token operator">&lt;</span><span class="token plain">container-name</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="后台运行"><a aria-hidden="true" href="#后台运行"><span class="icon icon-link"></span></a>后台运行</h2><p>更多时候，需要让 Docker 在后台运行而不是直接把执行命令的结果输出在当前宿主机下。</p><p>这时候可以添加 <code>-d</code> 参数来实现。</p><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 格式
$ docker run -d &lt;image-name&gt; &lt;command /&gt;

# 示例
$ docker run -d ubuntu:18.04 /bin/sh -c &quot;Hello world!&quot;
" data-status="copy"></button><div class="token-line"><span class="token comment"># 格式</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker run -d </span><span class="token operator">&lt;</span><span class="token plain">image-name</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">command /</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 示例</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker run -d ubuntu:18.04 /bin/sh -c </span><span class="token string">&quot;Hello world!&quot;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>容器是否会持续运行，是和 <code>docker run</code> 指定的命令相关，和 <code>-d</code> 参数无关。</p><h2 id="终止容器"><a aria-hidden="true" href="#终止容器"><span class="icon icon-link"></span></a>终止容器</h2><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 终止容器
$ docker stop &lt;container-name&gt;

# 相同效果
$ docker container stop &lt;container-name&gt;
" data-status="copy"></button><div class="token-line"><span class="token comment"># 终止容器</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker stop </span><span class="token operator">&lt;</span><span class="token plain">container-name</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 相同效果</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker container stop </span><span class="token operator">&lt;</span><span class="token plain">container-name</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>处于终止状态的容器，可以通过 <code>docker start &lt;container-name&gt;</code> 命令来重新启动。</p><p>此外，<code>docker restart</code> 命令会将一个运行态的容器终止，然后再重新启动它。</p><h2 id="进入容器"><a aria-hidden="true" href="#进入容器"><span class="icon icon-link"></span></a>进入容器</h2><h3 id="exec-命令"><a aria-hidden="true" href="#exec-命令"><span class="icon icon-link"></span></a>exec 命令</h3><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 进入容器内部
# &lt;container-name&gt; 为容器 ID 或者名称
docker exec -it &lt;container-name&gt; /bin/bash
" data-status="copy"></button><div class="token-line"><span class="token comment"># 进入容器内部</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># &lt;container-name&gt; 为容器 ID 或者名称</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">docker </span><span class="token builtin class-name">exec</span><span class="token plain"> -it </span><span class="token operator">&lt;</span><span class="token plain">container-name</span><span class="token operator">&gt;</span><span class="token plain"> /bin/bash</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>原理实际上是启动了容器内的 <code>/bin/bash</code>，此时你就可以通过 <code>bash shell</code> 与容器内交互了。就像远程连接了 SSH 一样。</p><ul><li><code>-i</code>：只有该参数时，由于没有分配伪终端，界面没有我们熟悉的 Linux 命令提示符，但命令执行结果仍然可以返回</li><li><code>-it</code>：当合并使用时，则可以看到我们熟悉的 Linux 命令提示符</li></ul><p>如果从这个 stdin 中 exit，不会导致容器的停止。</p><p>✅ 推荐使用这种方式进入容器内部</p><h3 id="attach-命令"><a aria-hidden="true" href="#attach-命令"><span class="icon icon-link"></span></a>attach 命令</h3><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 启动容器
$ docker run -dit bunt

# 查看容器列表
$ docker ps

# 连接容器
$ docker attach &lt;container-name&gt;
" data-status="copy"></button><div class="token-line"><span class="token comment"># 启动容器</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker run -dit bunt</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 查看容器列表</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker </span><span class="token function">ps</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 连接容器</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker attach </span><span class="token operator">&lt;</span><span class="token plain">container-name</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>如果从这个 stdin 中 exit，会导致容器的停止。</p><h2 id="导出和导入容器"><a aria-hidden="true" href="#导出和导入容器"><span class="icon icon-link"></span></a>导出和导入容器</h2><h3 id="导出容器"><a aria-hidden="true" href="#导出容器"><span class="icon icon-link"></span></a>导出容器</h3><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 查看全部容器列表
$ docker ps -a

# 导出容器
$ docker export  &lt;container-name&gt; &gt; &lt;file-name&gt;.&lt;file-suffix&gt;
" data-status="copy"></button><div class="token-line"><span class="token comment"># 查看全部容器列表</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker </span><span class="token function">ps</span><span class="token plain"> -a</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 导出容器</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker </span><span class="token builtin class-name">export</span><span class="token plain">  </span><span class="token operator">&lt;</span><span class="token plain">container-name</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">file-name</span><span class="token operator">&gt;</span><span class="token plain">.</span><span class="token operator">&lt;</span><span class="token plain">file-suffix</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="导入容器"><a aria-hidden="true" href="#导入容器"><span class="icon icon-link"></span></a>导入容器</h3><p>从容器快照文件中导入镜像。</p><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 导入容器
$ cat &lt;import-file-name&gt; | docker import - &lt;image-name&gt; # 格式
$ cat ubuntu.tar | docker import - test/ubuntu:v1.0 # 示例

# 查看镜像列表
$ docker images
" data-status="copy"></button><div class="token-line"><span class="token comment"># 导入容器</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ </span><span class="token function">cat</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">import-file-name</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token operator">|</span><span class="token plain"> docker </span><span class="token function">import</span><span class="token plain"> - </span><span class="token operator">&lt;</span><span class="token plain">image-name</span><span class="token operator">&gt;</span><span class="token plain"> </span><span class="token comment"># 格式</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ </span><span class="token function">cat</span><span class="token plain"> ubuntu.tar </span><span class="token operator">|</span><span class="token plain"> docker </span><span class="token function">import</span><span class="token plain"> - test/ubuntu:v1.0 </span><span class="token comment"># 示例</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 查看镜像列表</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker images</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>此外，也可以通过指定 URL 或某个目录来导入：</p><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 格式
$ docker import &lt;url&gt;

# 示例
$ docker import http://example.com/exampleimage.tgz example/imagerepo
" data-status="copy"></button><div class="token-line"><span class="token comment"># 格式</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker </span><span class="token function">import</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">url</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 示例</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker </span><span class="token function">import</span><span class="token plain"> http://example.com/exampleimage.tgz example/imagerepo</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>⚠️ 注意：用户既可以使用 <code>docker load</code> 来导入镜像存储文件到本地镜像库，也可以是哟功能 <code>docker import</code> 来导入一个容器快照到本地镜像库。这两者的区别在于容器快照文件将丢弃所有的历史记录和元数据信息（即仅保存容器当时的快照状态），而镜像存储文件将保存完整记录，体积也要大。此外，从容器快照文件导入可以重新指定标签等元数据信息。</p><h2 id="删除容器"><a aria-hidden="true" href="#删除容器"><span class="icon icon-link"></span></a>删除容器</h2><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 删除处于终止状态的容器
$ docker rm &lt;container-name&gt;

# 删除运行状态的容器
$ docker rm -f &lt;container-name&gt;
" data-status="copy"></button><div class="token-line"><span class="token comment"># 删除处于终止状态的容器</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker </span><span class="token function">rm</span><span class="token plain"> </span><span class="token operator">&lt;</span><span class="token plain">container-name</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 删除运行状态的容器</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">$ docker </span><span class="token function">rm</span><span class="token plain"> -f </span><span class="token operator">&lt;</span><span class="token plain">container-name</span><span class="token operator">&gt;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>清理所有处于终止状态的容器</p><p>用 <code>docker ps -a</code> 命令可以查看所有已经创建的包括终止状态的容器，如果数量太多要逐个删除会很麻烦，用下面的命令可以清理掉所有处于终止状态的容器。</p><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="$ docker container prune
" data-status="copy"></button><div class="token-line"><span class="token plain">$ docker container prune</span></div><div class="token-line"><span class="token plain"></span></div></pre></div></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/devops-guidebook/edit/master/docs/deploy/docker/container.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">7/11/2020, 7:44:42 AM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/devops-guidebook/umi.js"></script>
    <script src="/devops-guidebook/docs__deploy__docker__container.md.js"></script>
  </body>
</html>
