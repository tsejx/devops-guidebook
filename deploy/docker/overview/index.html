<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/devops-guidebook/umi.css" />
    <script>
      window.routerBase = "/devops-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.9
    </script>
    <title>&#x57FA;&#x672C;&#x6982;&#x8FF0;</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/deploy/docker/overview" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/devops-icon.png&#x27;)" href="/devops-guidebook//">DevOps Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span><a href="/devops-guidebook//linux">Linux</a></span><span><a href="/devops-guidebook//server">服务器</a></span><span><a aria-current="page" class="active" href="/devops-guidebook//deploy">部署</a></span><span><a href="/devops-guidebook//code">代码管理</a></span><span><a href="/devops-guidebook//devops">DevOps</a></span><span><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/devops-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></span></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;http://img.mrsingsing.com/devops-icon.png&#x27;)" href="/devops-guidebook//"></a><h1>DevOps Guidebook</h1><p>DevOps 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/devops-guidebook//linux">Linux</a></li><li><a href="/devops-guidebook//server">服务器</a></li><li><a aria-current="page" class="active" href="/devops-guidebook//deploy">部署</a></li><li><a href="/devops-guidebook//code">代码管理</a></li><li><a href="/devops-guidebook//devops">DevOps</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/devops-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a href="/devops-guidebook//deploy/theory">部署理论</a><ul><li><a href="/devops-guidebook//deploy/theory"><span>基本概述</span></a></li><li><a href="/devops-guidebook//deploy/theory/environment"><span>环境区分</span></a></li><li><a href="/devops-guidebook//deploy/theory/continuous-integration"><span>持续集成</span></a></li><li><a href="/devops-guidebook//deploy/theory/continuous-dilivery"><span>持续交付</span></a></li><li><a href="/devops-guidebook//deploy/theory/continuous-deployment"><span>持续部署</span></a></li><li><a href="/devops-guidebook//deploy/theory/blue-green-deployment"><span>蓝绿部署</span></a></li><li><a href="/devops-guidebook//deploy/theory/gray-release"><span>灰度部署</span></a></li><li><a href="/devops-guidebook//deploy/theory/rolling-update"><span>滚动部署</span></a></li></ul></li><li><a aria-current="page" class="active" href="/devops-guidebook//deploy/docker">Docker</a><ul><li><a aria-current="page" class="active" href="/devops-guidebook//deploy/docker/overview"><span>基本概述</span></a></li><li><a href="/devops-guidebook//deploy/docker/image"><span>构建镜像</span></a></li><li><a href="/devops-guidebook//deploy/docker/docker-file"><span>配置脚本</span></a></li><li><a href="/devops-guidebook//deploy/docker/container"><span>操作容器</span></a></li><li><a href="/devops-guidebook//deploy/docker/storage-patterns-for-persistence"><span>持久存储模式</span></a></li><li><a href="/devops-guidebook//deploy/docker/network"><span>网络通信</span></a></li><li><a href="/devops-guidebook//deploy/docker/operations-and-monitor"><span>运维和监控</span></a></li><li><a href="/devops-guidebook//deploy/docker/docker-compose"><span>多容器部署</span></a></li><li><a href="/devops-guidebook//deploy/docker/command"><span>常用命令</span></a></li><li><a href="/devops-guidebook//deploy/docker/extensions"><span>扩展资源</span></a></li><li><a href="/devops-guidebook//deploy/docker/mongodb"><span>部署 MongoDB</span></a></li></ul></li><li><a href="/devops-guidebook//deploy/github-actions">Github-actions</a><ul><li><a href="/devops-guidebook//deploy/github-actions"><span>Github Actions</span></a></li></ul></li><li><a href="/devops-guidebook//deploy/jenkins">Jenkins</a></li><li><a href="/devops-guidebook//deploy/rancher">Rancher</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="组成" data-depth="2"><a href="/devops-guidebook//deploy/docker/overview#组成"><span>组成</span></a></li><li title="镜像 Image" data-depth="3"><a href="/devops-guidebook//deploy/docker/overview#镜像-image"><span>镜像 Image</span></a></li><li title="容器 Container" data-depth="3"><a href="/devops-guidebook//deploy/docker/overview#容器-container"><span>容器 Container</span></a></li><li title="仓库 Registry" data-depth="3"><a href="/devops-guidebook//deploy/docker/overview#仓库-registry"><span>仓库 Registry</span></a></li><li title="作用" data-depth="2"><a href="/devops-guidebook//deploy/docker/overview#作用"><span>作用</span></a></li><li title="优点" data-depth="2"><a href="/devops-guidebook//deploy/docker/overview#优点"><span>优点</span></a></li><li title="使用场景" data-depth="2"><a href="/devops-guidebook//deploy/docker/overview#使用场景"><span>使用场景</span></a></li><li title="虚拟机架构" data-depth="2"><a href="/devops-guidebook//deploy/docker/overview#虚拟机架构"><span>虚拟机架构</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="基本概述"><a aria-hidden="true" tabindex="-1" href="/devops-guidebook//deploy/docker/overview#基本概述"><span class="icon,icon-link"></span></a>基本概述</h1><p>容器技术对进程进行封装隔离，属于操作系统层面的虚拟化技术。由于隔离的进程独立于宿主和其它的隔离的进程，因此称为容器。Docker 在容器的基础上，进行了进一步的封装，从文件系统、网络互联到进程隔离等等，极大的简化了容器的创建和维护。使得 Docker 技术比虚拟机技术更为轻便、快捷。</p><p>主要目标：通过对应用组件的封装、分发、部署、运行等生命周期的管理，达到应用级别的一次封装，到处运行。</p><h2 id="组成"><a aria-hidden="true" tabindex="-1" href="/devops-guidebook//deploy/docker/overview#组成"><span class="icon,icon-link"></span></a>组成</h2><p>Docker 包括三个基本概念：</p><ul><li>镜像 Image</li><li>容器 Container</li><li>仓库 Repository</li></ul><p>理解这三个概念，就理解了 Docker 的整个声明周期。</p><p>参考 <a target="_blank" rel="noopener noreferrer" href="https://docs.docker.com/engine/docker-overview/">Docker Overview<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h3 id="镜像-image"><a aria-hidden="true" tabindex="-1" href="/devops-guidebook//deploy/docker/overview#镜像-image"><span class="icon,icon-link"></span></a>镜像 Image</h3><p>Docker 镜像是 <strong>一个特殊的文件系统</strong>，除了提供容器运行时所需的程序、库、资源、配置等文件外，还包含了一些为运行时准备的一些配置参数（如匿名卷、环境变量、用户等）。镜像不包含任何动态数据，其内容在构建之后也不会被改变。</p><p>Docker 设计时，就充分利用 Union FS 的技术，将其设计为分层存储的架构。 镜像实际是由多层文件系统联合组成。</p><p>镜像构建时，会一层层构建，前一层是后一层的基础。每一层构建完就不会再发生改变，后一层上的任何改变只发生在自己这一层。</p><p>比如，删除前一层文件的操作，实际不是真的删除前一层的文件，而是仅在当前层标记为该文件已删除。</p><p>在最终容器运行的时候，虽然不会看到这个文件，但是实际上该文件会一直跟随镜像。</p><p>例如：这个镜像文件包含了一个完整的 Ubuntu 系统，我们可以在 Ubuntu 镜像基础之上安装了 Redis、Mysql 等其它应用程序，可以回顾下 Docker 架构一瞥 在 <code>DOCKER_HOST</code> 里面有个 images。</p><p>镜像构建时，会一层层构建，前一层是后一层的基础。每一层构建完就不会再发生改变，后一层上的任何改变只发生在自己这一层。</p></div><img alt="镜像分层示意图" src="data:image/png;base64,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" width="480"/><div class="markdown"><h3 id="容器-container"><a aria-hidden="true" tabindex="-1" href="/devops-guidebook//deploy/docker/overview#容器-container"><span class="icon,icon-link"></span></a>容器 Container</h3><p>镜像和容器的关系，就像是面向对象程序设计中的 类 和 实例 一样，镜像是静态的定义，容器是镜像运行时的实体。容器可以通过 Docker API 创建、启动、停止、删除、暂停等。</p><p>在默认情况下，容器与其它容器及其主机是隔离的，拥有自己的独立进程空间、网络配置。</p><p>容器由其镜像以及在创建或启动容器时提供的任何配置选项定义。当容器被删除时，对其状态的任何未存储在持久存储中的更改都会消失。</p><p>按照 Docker 最佳实践的要求，容器不应该向其存储层内写入任何数据，容器存储层要保持无状态化。所有的文件写入操作，都应该使用 <strong>数据卷（Volume）</strong>、或者<strong>绑定宿主目录</strong>，在这些位置的读写会跳过容器存储层，直接对宿主（或网络存储）发生读写，其性能和稳定性更高。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">容器 = 镜像 + 读写层</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><ul><li>容器用来运行程序，是读写层</li><li>镜像用来安装程序，是制度层</li></ul><h3 id="仓库-registry"><a aria-hidden="true" tabindex="-1" href="/devops-guidebook//deploy/docker/overview#仓库-registry"><span class="icon,icon-link"></span></a>仓库 Registry</h3><p>仓库是集中存放镜像文件的场所。</p><p>有时候狐白仓库和仓库注册服务器（Registry）混为一谈，并不严格区分。实际上，仓库注册服务器上往往存放着多个仓库，每个仓库中又包含了多个镜像，每个镜像有不同的标签（tag）。</p><h2 id="作用"><a aria-hidden="true" tabindex="-1" href="/devops-guidebook//deploy/docker/overview#作用"><span class="icon,icon-link"></span></a>作用</h2><p>Docker 可以将应用以集装箱的方式进行打包，通过镜像的方式可以实现在不同的环境下进行快速部署，在团队中还可实现一次打包，多次共享，使用 Docker 可以轻松的为任何应用创建一个轻量级的、可移植的、自给自足的容器。</p><p>例如，我们在本地将编译测试通过的程序打包成镜像，可以快速的在服务器环境中进行部署，有时也能解决不同的开发环境造成的问题 “明明我本地是好的，但是一到服务器就不行”。</p><h2 id="优点"><a aria-hidden="true" tabindex="-1" href="/devops-guidebook//deploy/docker/overview#优点"><span class="icon,icon-link"></span></a>优点</h2><ul><li>高效的利用系统资源（节约成本）</li><li>持续交付与部署（敏捷）</li><li>多平台的迁移更容易（可移植性）</li><li>容易的沙箱机制（安全性）</li></ul><h2 id="使用场景"><a aria-hidden="true" tabindex="-1" href="/devops-guidebook//deploy/docker/overview#使用场景"><span class="icon,icon-link"></span></a>使用场景</h2><ul><li>Use Cases</li><li>简化配置</li><li>代码流水线（Code Pipeline）管理</li><li>提高开发效率</li><li>隔离应用</li><li>整合服务器</li><li>调试能力</li><li>多租户环境</li><li>快速部署</li></ul><h2 id="虚拟机架构"><a aria-hidden="true" tabindex="-1" href="/devops-guidebook//deploy/docker/overview#虚拟机架构"><span class="icon,icon-link"></span></a>虚拟机架构</h2><p>中间部位为我们进行 Docker 操作的宿主机，其运行了一个 Docker daemon 的核心守护程序，负责构建、运行和分发 Docker 容器。</p><p>左边为 Docker 客户端，其与 Docker 守护进程进行通信，客户端会将 build、pull、run 命令发送到 Docker 守护进程进行执行。</p><p>右边为 Docler 注册表存储 Docker 镜像，是一个所有 Docker 用户共享 Docker 镜像的服务，Docker daemon 与之进行交互。</p></div><img alt="Docker架构" src="/devops-guidebook/static/docker-architect.7d029b33.jpeg" width="640"/><div class="markdown"><p>Docker 创建的所有虚拟实例共用同一个 Linux 内核，对硬件占用较小，属于轻量级虚拟机。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain">应用 应用</span></div><div class="token-line"><span class="token plain">系统库 系统库</span></div><div class="token-line"><span class="token plain">docker引擎</span></div><div class="token-line"><span class="token plain">宿主机系统</span></div><div class="token-line"><span class="token plain">硬件</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><hr/><p><strong>参考资料：</strong></p><ul><li><a target="_blank" rel="noopener noreferrer" href="https://cnodejs.org/topic/5d8c0df7e86cfb0d2a645c61">一文零基础教你学会 Docker 入门到实践<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/devops-guidebook/edit/master/docs/deploy/docker/overview.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last update: ">2/21/2022 13:40:01</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/devops-guidebook/umi.js"></script>
    <script src="/devops-guidebook/docs__deploy__docker__overview.md.js"></script>
  </body>
</html>
