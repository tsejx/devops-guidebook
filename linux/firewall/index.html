<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico" />
    <link rel="stylesheet" href="/devops-guidebook/umi.css" />
    <script>
      window.routerBase = "/devops-guidebook/";
    </script>
    <script>
      //! umi version: 3.2.9
    </script>
    <title>&#x9632;&#x706B;&#x5899;</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/favicon.png&#x27;)" href="/devops-guidebook//">DevOps Guidebook</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a aria-current="page" class="active" href="/devops-guidebook//linux">Linux</a><a href="/devops-guidebook//server">服务器</a><a href="/devops-guidebook//data-base">数据库</a><a href="/devops-guidebook//deploy">部署</a><a href="/devops-guidebook//version">版本管理</a><a href="/devops-guidebook//devops">DevOps</a><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/devops-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/favicon.png&#x27;)" href="/devops-guidebook//"></a><h1>DevOps Guidebook</h1><p>DevOps 完全知识体系</p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/devops-guidebook//linux">Linux</a></li><li><a href="/devops-guidebook//server">服务器</a></li><li><a href="/devops-guidebook//data-base">数据库</a></li><li><a href="/devops-guidebook//deploy">部署</a></li><li><a href="/devops-guidebook//version">版本管理</a></li><li><a href="/devops-guidebook//devops">DevOps</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/devops-guidebook">Github<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/devops-guidebook//linux">Linux 系统</a><ul><li><a href="/devops-guidebook//linux"><span>基本概要</span></a></li><li><a href="/devops-guidebook//linux/common-directory"><span>常见目录</span></a></li><li><a href="/devops-guidebook//linux/process"><span>进程</span></a></li><li><a href="/devops-guidebook//linux/file-permission"><span>文件权限</span></a></li><li><a href="/devops-guidebook//linux/package"><span>软件包</span></a></li><li><a aria-current="page" class="active" href="/devops-guidebook//linux/firewall"><span>防火墙</span></a></li></ul></li><li><a href="/devops-guidebook//linux/command">命令分类</a><ul><li><a href="/devops-guidebook//linux/command/system"><span>系统管理</span></a></li><li><a href="/devops-guidebook//linux/command/network"><span>网络管理</span></a></li><li><a href="/devops-guidebook//linux/command/file"><span>文件管理</span></a></li><li><a href="/devops-guidebook//linux/command/directory"><span>目录管理</span></a></li><li><a href="/devops-guidebook//linux/command/devices"><span>设备管理</span></a></li><li><a href="/devops-guidebook//linux/command/package"><span>软件包管理</span></a></li><li><a href="/devops-guidebook//linux/command/utils"><span>常用工具</span></a></li><li><a href="/devops-guidebook//linux/command/collection"><span>指令合集</span></a></li><li><a href="/devops-guidebook//linux/command/environment-variable"><span>环境变量</span></a></li></ul></li><li><a href="/devops-guidebook//linux/shell">Shell 编程</a><ul><li><a href="/devops-guidebook//linux/shell"><span>概述</span></a></li><li><a href="/devops-guidebook//linux/shell/variable"><span>变量</span></a></li><li><a href="/devops-guidebook//linux/shell/type"><span>类型</span></a></li><li><a href="/devops-guidebook//linux/shell/command"><span>命令</span></a></li><li><a href="/devops-guidebook//linux/shell/structured-command"><span>结构化命令</span></a></li><li><a href="/devops-guidebook//linux/shell/function"><span>函数</span></a></li><li><a href="/devops-guidebook//linux/shell/sign"><span>特殊符号</span></a></li><li><a href="/devops-guidebook//linux/shell/shell-control"><span>脚本控制</span></a></li><li><a href="/devops-guidebook//linux/shell/tools"><span>实用工具</span></a></li></ul></li></ul></div></div><ul class="__dumi-default-layout-toc" role="slug-list"><li title="添加端口到防火墙" data-depth="2" class=""><a href="/devops-guidebook//linux/firewall#添加端口到防火墙"><span>添加端口到防火墙</span></a></li><li title="基本操作" data-depth="3" class=""><a href="/devops-guidebook//linux/firewall#基本操作"><span>基本操作</span></a></li><li title="设置端口" data-depth="2" class=""><a href="/devops-guidebook//linux/firewall#设置端口"><span>设置端口</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="防火墙"><a aria-hidden="true" href="#防火墙"><span class="icon icon-link"></span></a>防火墙</h1><h2 id="添加端口到防火墙"><a aria-hidden="true" href="#添加端口到防火墙"><span class="icon icon-link"></span></a>添加端口到防火墙</h2><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="firewall-cmd --zone=public --add-port=你的端口/tcp permanet
systemctl restart firewalld.service
" data-status="copy"></button><div class="token-line"><span class="token plain">firewall-cmd --zone</span><span class="token operator">=</span><span class="token plain">public --add-port</span><span class="token operator">=</span><span class="token plain">你的端口/tcp permanet</span></div><div class="token-line"><span class="token plain">systemctl restart firewalld.service</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h3 id="基本操作"><a aria-hidden="true" href="#基本操作"><span class="icon icon-link"></span></a>基本操作</h3><p>3.配置 firewalld-cmd</p><ul><li>查看版本： firewall-cmd --version</li><li>查看帮助： firewall-cmd --help</li><li>显示状态： firewall-cmd --state</li><li>查看所有打开的端口： firewall-cmd --zone=public --list-ports</li><li>更新防火墙规则： firewall-cmd --reload</li><li>查看区域信息: firewall-cmd --get-active-zones</li><li>查看指定接口所属区域： firewall-cmd --get-zone-of-interface=eth0</li><li>拒绝所有包：firewall-cmd --panic-on</li><li>取消拒绝状态： firewall-cmd --panic-off</li><li>查看是否拒绝： firewall-cmd --query-panic</li></ul><p>开启端口</p><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 添加
firewall-cmd --zone=public --add-port=80/tcp --permanent （--permanent 永久生效，没有此参数重启后失效）

# 重新载入
firewall-cmd --reload

# 查看
firewall-cmd --zone= public --query-port=80/tcp

# 删除
firewall-cmd --zone= public --remove-port=80/tcp --permanent
" data-status="copy"></button><div class="token-line"><span class="token comment"># 添加</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">firewall-cmd --zone</span><span class="token operator">=</span><span class="token plain">public --add-port</span><span class="token operator">=</span><span class="token number">80</span><span class="token plain">/tcp --permanent （--permanent 永久生效，没有此参数重启后失效）</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 重新载入</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">firewall-cmd --reload</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 查看</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">firewall-cmd --zone</span><span class="token operator">=</span><span class="token plain"> public --query-port</span><span class="token operator">=</span><span class="token number">80</span><span class="token plain">/tcp</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 删除</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">firewall-cmd --zone</span><span class="token operator">=</span><span class="token plain"> public --remove-port</span><span class="token operator">=</span><span class="token number">80</span><span class="token plain">/tcp --permanent</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="设置端口"><a aria-hidden="true" href="#设置端口"><span class="icon icon-link"></span></a>设置端口</h2><p>Ali 阿里云有防火墙</p><p>开放新端口</p><ol><li>实例安全组添加端口</li><li>服务器添加新端口到防火墙配置中</li></ol><div class="__dumi-default-code-block"><pre class="prism-code language-bash"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="# 对外开放端口
firewall-cmd --permanent --add-port=8080-8085/tcp

# 重载端口
firewall-cmd --reload

# 删除端口
firewall-cmd --permanent --remove-port=8080-8085/tcp

# 查看防火墙开放端口
firewall-cmd --permanent --list-ports

# 查看使用互联网的服务
firewall-cmd --permanent --list-services
" data-status="copy"></button><div class="token-line"><span class="token comment"># 对外开放端口</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">firewall-cmd --permanent --add-port</span><span class="token operator">=</span><span class="token number">8080</span><span class="token plain">-8085/tcp</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 重载端口</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">firewall-cmd --reload</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 删除端口</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">firewall-cmd --permanent --remove-port</span><span class="token operator">=</span><span class="token number">8080</span><span class="token plain">-8085/tcp</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 查看防火墙开放端口</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">firewall-cmd --permanent --list-ports</span></div><div class="token-line"><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token comment"># 查看使用互联网的服务</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">firewall-cmd --permanent --list-services</span></div><div class="token-line"><span class="token plain"></span></div></pre></div><hr/><p><strong>参考资料：</strong></p><ul><li><a href="http://www.zsythink.net/archives/1199/" target="_blank" rel="noopener noreferrer">iptables 详解<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a href="https://blog.csdn.net/chenshiai/article/details/53639167" target="_blank" rel="noopener noreferrer">Linux (centos7) 防火墙命令<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tsejx/devops-guidebook/edit/master/docs/linux/linux/firewall.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">7/30/2020, 1:26:00 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/devops-guidebook/umi.js"></script>
    <script src="/devops-guidebook/docs__linux__linux__firewall.md.js"></script>
  </body>
</html>
